Next release
============

0.5.6 (2012-06-28)
==================

Updates Fixes
---------
- In case the reference genome is provided, it is the createDetabase.pl script to set up the reference database. Before it was orthologFinder.pl doing it, but now it is not appropriate anymore (as the various exonerate can be be splitted on parallel there might be some conflict)
- StartPipeline.pl now check that both reference and query_gtf (if provided) share the same syntax (e.g. with or without the label "chr")
- The temporary orthologFile generated by exonerateSearch.pl have now names associated on the split (i.e. uniq names)



0.5.5 (2012-05-10)
==================

Updates Fixes
---------

- Edited startPipeline.pl. The pipeline is now able to run the splitExonerate option (not by deafault) to boost the exonerate mapping step. It creates a splitExonerate.sh shell script that generates a splitting of the blast mf2 files. Each split contains a part of the blast hits (the splits by default consider the blast output of 500 queries). To generate these splits it uses unix command grep. Since these grep might take a lot of time these grep are implemented to run in the cluster (eit the splitExonerate to choose the queue with -q) . Then separate exonerate executable are generate for each mf2 split and run on the cluster as well. finally the results are concatenated by species name.

- Fixed a small bug in exonerateRemapping.pl. The script was reading the mf2 list considering the blocks of hits of different queries. The way in which the parsing of the query name in the mf2 file was wrong and it failed when one query name was included into another (es.QUERY_A   and  QUERY_A_2). Now it is fixed

- Improved exonerateRemapping.pl. Now the script is genaring temporary "currentQuery" and "currentTarget" names that include also the mf2 file name. This is safer because it might happen that you run multiple exonerate in the cluster. Then each script is checking for the existence of a certain file name. If the file name it is not used it s possible that gets used by different job at the same time. Now it is impossible since different jobs relates to different mf2 files (that have different name). 


0.5.4 (2012-05-27)
==================

Updates Fixes
---------

- Added the utility script compareHeatmaps.R. This tools converts two input pipeR heatmap into distributions and compare them with a wilkoxon test to check if these are statistically different. It runs this non-parametric test as the two distribution are not expected to be normal. Actually the most common case is that these are bi-modal. This script allows to compare heatmaps generated out of different amount of queries (i.e. 2 different transcript sets)

- Added the utility script RPKManalysis_NZgraph_and_histograms.R. This tool accepts the read_statistics.pl output of various mapping experiments. It measures the Z-Score for each of them and generate an NZ-graph comprising the Z score and N, the number of mapped transcripts for each method


0.5.3 (2012-05-23)
==================

Updates Fixes
---------

- Updated create_input.pl. Now it creates symbolic links to the query (or query_gtf) file rather than copying it




0.5.2 (2012-05-17)
==================

Documentation
-------------

- Adding tutorial, doc, bin and MANUAL.txt

Updates Fixes
---------

- Updated overlap_statistics.pl. Now the random projections are done exactly as in read_statistics. If few words, if two exons belonging to different transcripts overlap in the gtf_map, then the two transcripts will belong to the same block. The randomization now considers the random projection of these blocks (and not individual transcripts). By doing this, both the genomic coverage and the transcript redundancy are manteined while randomizing          

- The startPipeline.pl script was updated so that it allows for the use of exonerate ner (non-equivalent region) option

- exonerateRemapping.pl was updated with the option -ner [default no]. If used the ner model implemented in exonerate will be used after that the est2genome failed in extending a blast hit up to 70% coverage.

- Update read_statistic.pl. added a remove of the _tmp_ file

- Updated version of read_statistic.pl. Now the randomization strategy consider the projectipon the entire blocks of overlapping transcripts, then the splitting of these into exons. By doing this the original genomic coveage is mantained, and the level of overlap among exons is still the same (inside the block of transcript, each exon will have the same relative position as in the original block)        

- Changing in createDatabase.pl a forech into a while. It makes the script much more stable

- New version of createDatabase. Now it is more compatible with the server needs. The old version ran a sanity check before executing the script, returning an error if the genomes headers had a strange syntax (rare caracters, spaces..). Now the script just retain in the header everything before the first space (if any). Stange symbols are changet to underscores. This header fix is done on the fly when splitting the genome in chromosome files. Then when formatting the database each fixed chromosome is passed through STDIN to xdformat. The result should be identical to the former pipeline. It is just much more comfortable to automatize. The only thing to mind is that the chromosomes have a unique identifier within the first space ecountered in the header

- Updated overlap_statistics and other.cmd in the utility folder

Bug Fixes
---------

- Fixed a bug in read_statistic.pl. The bug consisted in the fact that the RPKM extimation for the exons that are duplicated in more than one transcript was doubled. The fix is in the function countReadsPerExon (changed a += into a =)

- Fixed xargs issue on Mac + added SCRIPTSDIR to make it runnable from any path


0.5.1 (2012-04-27)
==================

Documentation
-------------

- Adding README.txt, INSTALL.txt and LICENSE.txt

- Dependencies are listed in INSTALL.txt

Bug Fixes
---------

- Fixing the naming of the temporary output when running on the cluster

- Fixed the duplication of MillionMappedReads option when running on the
  cluster

0.5 (2012-04-27)
================

- First release
