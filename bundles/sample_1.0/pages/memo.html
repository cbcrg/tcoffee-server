#{extends 'layout.html' /}

<form >


<div id="drop-area" style="padding: 1em; margin: 1em">
<textarea id="drop-memo" rows="20" cols="50"></textarea>
</div>

</form>

<link href="@{'/public/fileuploader/fileuploader.css'}" rel="stylesheet" type="text/css" />
<script src="@{'/public/fileuploader/fileuploader.js'}" type="text/javascript" ></script> 
<script type="text/javascript">

$(document).ready(function() {

	  if( !FileReader ) { return }
	
	   var _classes = {dropActive: "qq-upload-drop-area-active"};

	   var dropArea = document.getElementById('drop-area');                        

	    var dz = new qq.UploadDropZone({
	        element: dropArea,
	        onEnter: function(e){
	            qq.addClass(dropArea, _classes.dropActive);
	            e.stopPropagation();
	        },
	        onLeave: function(e){
	            e.stopPropagation();
	        },
	        onLeaveNotDescendants: function(e){
	            qq.removeClass(dropArea, _classes.dropActive);  
	        },
	        onDrop: function(e){
	            qq.removeClass(dropArea, _classes.dropActive);

	            file = e.dataTransfer.files[0];

	            var reader = new FileReader();
	            reader.onload = function() {
		            $('#drop-memo').val(reader.result);
		        };

		        reader.readAsText(file); 
	            
	        }
	    });
	            
   	
	
} )


</script>